#!/bin/sh

echo "Running pre-push checks..."

echo ""
echo "1/3 Running linter..."
npm run lint -- --max-warnings=0
if [ $? -ne 0 ]; then
  echo "Lint failed. Push aborted."
  exit 1
fi

echo ""
echo "2/3 Running tests..."
npm test -- --watchAll=false
if [ $? -ne 0 ]; then
  echo "Tests failed. Push aborted."
  exit 1
fi

echo ""
echo "3/3 Building project..."
npm run build
if [ $? -ne 0 ]; then
  echo "Build failed. Push aborted."
  exit 1
fi

echo ""
echo "All checks passed. Pushing..."

